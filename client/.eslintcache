[{"/Users/jevinsidhu/Desktop/goodgame/client/src/App.js":"1","/Users/jevinsidhu/Desktop/goodgame/client/src/components/Nav/index.jsx":"2","/Users/jevinsidhu/Desktop/goodgame/client/src/reportWebVitals.js":"3","/Users/jevinsidhu/Desktop/goodgame/client/src/components/Card/index.jsx":"4","/Users/jevinsidhu/Desktop/goodgame/client/src/index.js":"5","/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Home/index.jsx":"6","/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Game/index.jsx":"7","/Users/jevinsidhu/Desktop/goodgame/client/src/pages/SignIn/index.jsx":"8","/Users/jevinsidhu/Desktop/goodgame/client/src/components/Auth/index.jsx":"9","/Users/jevinsidhu/Desktop/goodgame/client/src/base.js":"10","/Users/jevinsidhu/Desktop/goodgame/client/src/pages/SignUp/index.jsx":"11","/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Lists/index.jsx":"12","/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Search/index.jsx":"13"},{"size":1135,"mtime":1607230776697,"results":"14","hashOfConfig":"15"},{"size":2028,"mtime":1607225270148,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1606339092999,"results":"17","hashOfConfig":"15"},{"size":798,"mtime":1607231372035,"results":"18","hashOfConfig":"15"},{"size":500,"mtime":1606339092998,"results":"19","hashOfConfig":"15"},{"size":2604,"mtime":1607231370446,"results":"20","hashOfConfig":"15"},{"size":8931,"mtime":1607233822775,"results":"21","hashOfConfig":"15"},{"size":2026,"mtime":1607225421284,"results":"22","hashOfConfig":"15"},{"size":610,"mtime":1607152799880,"results":"23","hashOfConfig":"15"},{"size":477,"mtime":1607153851524,"results":"24","hashOfConfig":"15"},{"size":2031,"mtime":1607225419807,"results":"25","hashOfConfig":"15"},{"size":4359,"mtime":1607233882633,"results":"26","hashOfConfig":"15"},{"size":1758,"mtime":1607233186103,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"3jb92o",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"39"},"/Users/jevinsidhu/Desktop/goodgame/client/src/App.js",[],"/Users/jevinsidhu/Desktop/goodgame/client/src/components/Nav/index.jsx",[],["59","60"],"/Users/jevinsidhu/Desktop/goodgame/client/src/reportWebVitals.js",[],"/Users/jevinsidhu/Desktop/goodgame/client/src/components/Card/index.jsx",[],"/Users/jevinsidhu/Desktop/goodgame/client/src/index.js",[],["61","62"],"/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Home/index.jsx",[],"/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Game/index.jsx",["63","64"],"import React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nimport { db } from \"../../base\";\nimport { AuthContext } from \"../../components/Auth\";\n\nconst Container = styled.div`\n  display: flex;\n  place-content: center;\n  padding: 50px;\n`;\n\nconst Wrapper = styled.div`\n  width: 750px;\n`;\n\nconst Header = styled.h1`\n  font-size: 24px;\n  margin: 20px 0;\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 400px;\n  object-fit: cover;\n  object-position: 0% 0%;\n`;\n\nconst ScreenshotWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 20px;\n  margin: 30px 0;\n\n  img {\n    object-fit: cover;\n  }\n`;\n\nconst Screenshot = styled.img`\n  width: 100%;\n`;\n\nconst ManageList = styled.div`\n  margin: 10px 0;\n\n  > button {\n    background-color: black;\n    color: white;\n    padding: 15px;\n\n    &:hover {\n      opacity: 0.7;\n    }\n\n    &:focus {\n      outline: none;\n    }\n  }\n`;\n\nconst ListWrapper = styled.div`\n  display: grid;\n  grid-gap: 10px;\n  margin: 10px 0;\n`;\n\nconst ListItem = styled.button`\n  background-color: ${(props) => (props.isPresent ? \"red\" : \"green\")};\n  padding: 15px;\n  color: white;\n  text-align: left;\n\n  span {\n    font-weight: bold;\n  }\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst PlatformWrapper = styled.div`\n  display: flex;\n`;\n\nconst Platform = styled.p`\n  background-color: grey;\n  padding: 10px 15px;\n  color: white;\n  border-radius: 12px;\n  width: max-content;\n  margin: 0 10px 0 0;\n  font-size: 14px;\n`;\n\nconst ReviewsWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 20px;\n`;\n\nconst Review = styled.div`\n  border: 1px solid black;\n  border-radius: 12px;\n  padding: 15px;\n`;\n\nconst Author = styled.p`\n  font-weight: bold;\n  font-size: 10px;\n\n  span {\n    font-weight: normal;\n    color: grey;\n  }\n`;\n\nconst ReviewContent = styled.p`\n  margin: 10px 0;\n`;\n\nconst CreateReview = styled.div`\n  margin: 10px 0;\n\n  > button {\n    margin: 20px 0 10px 0;\n    background-color: black;\n    color: white;\n    padding: 15px;\n\n    &:hover {\n      opacity: 0.7;\n    }\n\n    &:focus {\n      outline: none;\n    }\n  }\n`;\n\nconst Form = styled.form`\n  display: grid;\n  margin: 10px 0 0 0;\n  border: 1px solid black;\n  border-radius: 12px;\n  padding: 15px;\n\n  input[type=\"submit\"] {\n    margin: 10px 0 0 0;\n    color: white;\n    background-color: black;\n    padding: 10px;\n    border: none;\n    border-radius: 6px;\n  }\n\n  textarea {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n      Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n    padding: 15px;\n    resize: none;\n\n    &:focus {\n      outline: none;\n    }\n  }\n`;\n\nconst Error = styled.p`\n  color: red;\n  font-size: 10px;\n  margin: 10px 0 0 0;\n`;\n\nconst Game = () => {\n  const [game, setGame] = useState();\n  const [showLists, setShowLists] = useState(false);\n  const [showCreateReview, setShowCreateReview] = useState(false);\n  const [lists, setLists] = useState([]);\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  const { currentUser } = useContext(AuthContext);\n  const { id } = useParams();\n\n  const fetchLists = () => {\n    if (currentUser) {\n      const fetchedLists = [];\n\n      db.collection(\"lists\")\n        .where(\"author\", \"==\", currentUser.email)\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n            const data = doc.data();\n            fetchedLists.push({\n              id: doc.id,\n              data,\n              isPresent: data.games.find((listGame) => listGame.id === game.id),\n            });\n          });\n        })\n        .then(() => {\n          setLists(fetchedLists);\n        });\n    }\n  };\n\n  const fetchReviews = () => {\n    const fetchedReviews = [];\n\n    db.collection(\"reviews\")\n      .where(\"gameId\", \"==\", game.id)\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((doc) => {\n          fetchedReviews.push(doc.data());\n        });\n      })\n      .then(() => setReviews(fetchedReviews));\n  };\n\n  const toggleList = () => {\n    setShowLists((prev) => !prev);\n  };\n\n  const handleClick = (id, isPresent) => {\n    const ref = db.collection(\"lists\").doc(id);\n\n    if (isPresent) {\n      ref\n        .update({\n          games: firebase.firestore.FieldValue.arrayRemove({\n            title: game.name,\n            id: game.id,\n          }),\n        })\n        .then(() => fetchLists());\n    } else {\n      ref\n        .update({\n          games: firebase.firestore.FieldValue.arrayUnion({\n            title: game.name,\n            id: game.id,\n          }),\n        })\n        .then(() => fetchLists());\n    }\n  };\n\n  const toggleCreateReview = () => {\n    setShowCreateReview((prev) => !prev);\n  };\n\n  const handleCreateReview = (event) => {\n    event.preventDefault();\n\n    const { content } = event.target.elements;\n    const { email } = currentUser;\n\n    if (content.value === \"\") {\n      setError(\"Cannot send a blank review\");\n      return;\n    }\n\n    db.collection(\"reviews\")\n      .doc()\n      .set({\n        author: email,\n        content: content.value,\n        gameId: game.id,\n      })\n      .then(function (docRef) {\n        fetchReviews();\n        toggleCreateReview();\n        setError(\"\");\n        console.log(\"Document written with ID: \", docRef.id);\n      })\n      .catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n  };\n\n  useEffect(() => {\n    if (game) {\n      fetchReviews();\n      fetchLists();\n    }\n  }, [game]);\n\n  useEffect(() => {\n    const callApi = async () => {\n      const response = await fetch(`/api/videogame/${id}`);\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n\n      return body;\n    };\n\n    callApi()\n      .then((res) => setGame(res))\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <Container>\n      {game ? (\n        <Wrapper>\n          <PlatformWrapper>\n            {game.platforms.map((plat) => (\n              <Platform>{plat.platform.name}</Platform>\n            ))}\n          </PlatformWrapper>\n          <Header>{game.name}</Header>\n          <Image src={game.background_image} alt=\"background image\" />\n          {currentUser && (\n            <ManageList>\n              <button onClick={toggleList}>\n                {showLists ? \"Hide Lists\" : \"Manage Lists\"}\n              </button>\n              {showLists && (\n                <ListWrapper>\n                  {lists.length ? (\n                    lists.map((list) => (\n                      <ListItem\n                        key={list.data.title}\n                        isPresent={list.isPresent}\n                        onClick={() => handleClick(list.id, list.isPresent)}\n                      >\n                        {list.isPresent ? \"Remove from \" : \"Add to \"}\n                        <span>{list.data.title}</span>\n                      </ListItem>\n                    ))\n                  ) : (\n                    <p>You don't have any lists!</p>\n                  )}\n                </ListWrapper>\n              )}\n            </ManageList>\n          )}\n          <h3>Description</h3>\n          <p>{game.description_raw}</p>\n          <ScreenshotWrapper>\n            {game.screenshots.map((screenshot) => (\n              <Screenshot\n                key={screenshot.id}\n                src={screenshot.image}\n                alt={screenshot.id}\n              />\n            ))}\n          </ScreenshotWrapper>\n          <h3>Reviews</h3>\n          {reviews.length ? (\n            <ReviewsWrapper>\n              {reviews.map((review) => (\n                <Review>\n                  <Author>\n                    Author: <span>{review.author}</span>\n                  </Author>\n                  <ReviewContent>{review.content}</ReviewContent>\n                </Review>\n              ))}\n            </ReviewsWrapper>\n          ) : (\n            <p>No reviews yet.</p>\n          )}\n          {currentUser && (\n            <CreateReview>\n              <button onClick={toggleCreateReview}>\n                {showCreateReview ? \"Hide Review\" : \"Create Review\"}\n              </button>\n              {showCreateReview && (\n                <Form onSubmit={handleCreateReview}>\n                  <h3>Write a Review</h3>\n                  <textarea\n                    placeholder=\"Write your review here\"\n                    name=\"content\"\n                  />\n                  {error && <Error>{error}</Error>}\n                  <input type=\"submit\" value=\"Create Review\" />\n                </Form>\n              )}\n            </CreateReview>\n          )}\n        </Wrapper>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </Container>\n  );\n};\n\nexport default Game;\n","/Users/jevinsidhu/Desktop/goodgame/client/src/pages/SignIn/index.jsx",[],"/Users/jevinsidhu/Desktop/goodgame/client/src/components/Auth/index.jsx",[],"/Users/jevinsidhu/Desktop/goodgame/client/src/base.js",[],"/Users/jevinsidhu/Desktop/goodgame/client/src/pages/SignUp/index.jsx",[],["65","66"],"/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Lists/index.jsx",["67"],"/Users/jevinsidhu/Desktop/goodgame/client/src/pages/Search/index.jsx",["68"],"import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\n\nimport Card from \"../../components/Card\";\n\nconst Container = styled.div`\n  display: flex;\n  place-content: center;\n`;\n\nconst Header = styled.h1`\n  margin: 30px 0;\n\n  span {\n    color: grey;\n  }\n`;\n\nconst Wrapper = styled.div`\n  width: min-content;\n  margin: 40px 0;\n`;\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  grid-gap: 20px;\n\n  a {\n    text-decoration: none;\n    color: initial;\n\n    &:hover {\n      opacity: 0.7;\n    }\n  }\n`;\n\nconst Search = () => {\n  const { query } = useParams();\n  const [games, setGames] = useState([]);\n\n  useEffect(() => {\n    const callApi = async () => {\n      const response = await fetch(`/api/search/${query}`);\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    callApi()\n      .then((res) => setGames(res.results))\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <Container>\n      <Wrapper>\n        {games.length ? (\n          <>\n            <Header>\n              Search Results: <span>{query}</span>\n            </Header>\n            <Grid>\n              {games.map((game, i) => (\n                <a href={`/games/${game.id}`}>\n                  <Card\n                    key={`videogame-${i}`}\n                    name={game.name}\n                    image={game.background_image}\n                    genres={game.genres}\n                  />\n                </a>\n              ))}\n            </Grid>\n          </>\n        ) : (\n          <p>Loading...</p>\n        )}\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default Search;\n",{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"69","replacedBy":"73"},{"ruleId":"71","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":298,"column":6,"nodeType":"77","endLine":298,"endColumn":12,"suggestions":"78"},{"ruleId":"75","severity":1,"message":"79","line":312,"column":6,"nodeType":"77","endLine":312,"endColumn":8,"suggestions":"80"},{"ruleId":"69","replacedBy":"81"},{"ruleId":"71","replacedBy":"82"},{"ruleId":"75","severity":1,"message":"83","line":173,"column":6,"nodeType":"77","endLine":173,"endColumn":8,"suggestions":"84"},{"ruleId":"75","severity":1,"message":"85","line":55,"column":6,"nodeType":"77","endLine":55,"endColumn":8,"suggestions":"86"},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],["87"],["88"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'fetchLists' and 'fetchReviews'. Either include them or remove the dependency array.","ArrayExpression",["89"],"React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["90"],["87"],["88"],"React Hook useEffect has a missing dependency: 'updateLists'. Either include it or remove the dependency array.",["91"],"React Hook useEffect has a missing dependency: 'query'. Either include it or remove the dependency array.",["92"],"no-global-assign","no-unsafe-negation",{"desc":"93","fix":"94"},{"desc":"95","fix":"96"},{"desc":"97","fix":"98"},{"desc":"99","fix":"100"},"Update the dependencies array to be: [fetchLists, fetchReviews, game]",{"range":"101","text":"102"},"Update the dependencies array to be: [id]",{"range":"103","text":"104"},"Update the dependencies array to be: [updateLists]",{"range":"105","text":"106"},"Update the dependencies array to be: [query]",{"range":"107","text":"108"},[5708,5714],"[fetchLists, fetchReviews, game]",[6059,6061],"[id]",[3160,3162],"[updateLists]",[1062,1064],"[query]"]